<div ng-include="'partials/user-header.html'"></div>

<div class="row">
    <form class="register form-horizontal col-lg-12" name="changePasswordForm" ng-controller="AuthController">
        <fieldset>
            <legend><h2>Change password</h2></legend>

            <div class="col-lg-9 form-info">
                <div class="form-group">
                    <label for="oldPassword" class="col-lg-3 control-label">Old Password:</label>

                    <div class="col-lg-3">
                        <input type="password" class="form-control" ng-model="passwords.oldPassword" id="oldPassword"
                               name="oldPassword" placeholder="Old Password" minlength="6" maxlength="100" required>
                    </div>
                    <div ng-show="changePasswordForm.$submitted || changePasswordForm.oldPassword.$touched">
                        <span ng-show="changePasswordForm.oldPassword.$error.required">Password is required</span>
                        <span ng-show="changePasswordForm.oldPassword.$error.minlength">Password must be at least 6 characters long</span>
                        <span ng-show="changePasswordForm.oldPassword.$error.maxlength">Password must be less than 100 characters long</span>
                    </div>
                </div>
                <div class="form-group">
                    <label for="newPassword" class="col-lg-3 control-label">New password:</label>

                    <div class="col-lg-3">
                        <input type="password" class="form-control" ng-model="passwords.newPassword" id="newPassword"
                               name="newPassword" placeholder="New password" minlength="6" maxlength="100" required>
                    </div>
                    <div ng-show="changePasswordForm.$submitted || changePasswordForm.newPassword.$touched">
                        <span ng-show="changePasswordForm.newPassword.$error.required">Enter your new password</span>
                        <span ng-show="changePasswordForm.newPassword.$error.minlength">Password must be at least 6 characters long</span>
                        <span ng-show="changePasswordForm.newPassword.$error.maxlength">Password must be less than 100 characters long</span>
                    </div>
                </div>
                <div class="form-group">
                    <label for="confirmPassword" class="col-lg-3 control-label">Confirm password:</label>

                    <div class="col-lg-3">
                        <input type="password" class="form-control" ng-model="passwords.confirmPassword"
                               id="confirmPassword" name="confirmPassword" placeholder="Confirm new password"
                               password-match="passwords.newPassword">
                    </div>
                    <div ng-show="changePasswordForm.$submitted || changePasswordForm.confirmPassword.$touched">
                        <span ng-show="changePasswordForm.confirmPassword.$error.required">Confirm your password</span>
                        <span ng-show="changePasswordForm.confirmPassword.$error.unique">Passwords doesn't match</span>
                    </div>
                </div>
            </div>

            <div class="form-group col-lg-9">
                <div class="col-lg-10 col-lg-offset-2">
                    <a href="#/user/home" class="btn btn-default">Cancel</a>
                    <button type="button" id="register-button" ng-disabled="changePasswordForm.$invalid"
                            class="btn btn-md btn-primary" ng-click="changePassword(passwords)">Save changes
                    </button>
                </div>
            </div>
        </fieldset>
    </form>
</div>